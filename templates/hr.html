<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HR Dashboard ¬∑ SmartHire AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=IBM+Plex+Mono:wght@300;400;500;600&family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap"
    rel="stylesheet" />
  <style>
    :root {
      --amber: #F5A623;
      --amber-lo: rgba(245, 166, 35, 0.1);
      --ink: #050505;
      --s1: rgba(10, 10, 10, 0.75);
      --s2: rgba(18, 18, 18, 0.6);
      --s3: rgba(24, 24, 24, 0.8);
      --border: #222222;
      --border2: #333333;
      --text: #E0DBD1;
      --muted: #666666;
      --muted2: #888888;
      --green: #4ADE80;
      --yellow: #FACC15;
      --red: #F87171;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background: var(--ink);
      color: var(--text);
      font-family: 'IBM Plex Mono', monospace;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Ambient Backgrounds from Homepage */
    body::after {
      content: '';
      position: fixed;
      inset: 0;
      background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 0, 0, 0.15) 2px, rgba(0, 0, 0, 0.15) 4px);
      pointer-events: none;
      z-index: 100;
    }

    .bg-glow {
      position: fixed;
      inset: 0;
      z-index: -1;
      background: radial-gradient(circle at 70% 30%, rgba(245, 166, 35, 0.06) 0%, transparent 60%);
      animation: breathe 8s ease-in-out infinite alternate;
    }

    .bg-grid {
      position: fixed;
      inset: 0;
      z-index: -2;
      background-image: linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
      background-size: 48px 48px;
    }

    /* ---- Layout ---- */
    .sidebar {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 240px;
      background: var(--s1);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      z-index: 50;
    }

    .main-area {
      margin-left: 240px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .topbar {
      height: 60px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 32px;
      background: var(--s1);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      position: sticky;
      top: 0;
      z-index: 40;
    }

    .content {
      padding: 40px 32px;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }

    /* ---- Sidebar Elements ---- */
    .logo-block {
      padding: 28px 24px 24px;
      border-bottom: 1px solid var(--border);
    }

    .logo-text {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 32px;
      letter-spacing: 0.06em;
      line-height: 1;
      text-shadow: 0 0 20px rgba(245, 166, 35, 0.2);
    }

    .logo-sub {
      font-size: 10px;
      letter-spacing: 0.25em;
      color: var(--muted2);
      text-transform: uppercase;
      margin-top: 6px;
    }

    .nav-section {
      padding: 24px 20px 10px;
      font-size: 10px;
      letter-spacing: 0.25em;
      color: var(--muted);
      text-transform: uppercase;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 20px;
      font-size: 11px;
      letter-spacing: 0.1em;
      color: var(--muted2);
      cursor: pointer;
      border-left: 2px solid transparent;
      transition: all 0.2s ease;
      text-transform: uppercase;
    }

    .nav-item:hover {
      color: var(--text);
      background: rgba(255, 255, 255, 0.03);
    }

    .nav-item.active {
      color: var(--amber);
      border-left-color: var(--amber);
      background: var(--amber-lo);
      text-shadow: 0 0 10px rgba(245, 166, 35, 0.3);
    }

    .sidebar-footer {
      margin-top: auto;
      padding: 20px;
      border-top: 1px solid var(--border);
    }

    .status-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--green);
      animation: pulse 2s infinite;
      display: inline-block;
      box-shadow: 0 0 8px var(--green);
    }

    /* ---- UI Components ---- */
    .section-label {
      font-size: 10px;
      letter-spacing: 0.25em;
      color: var(--muted2);
      text-transform: uppercase;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-label::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border);
    }

    /* Upload Zone */
    .upload-zone {
      border: 1px dashed var(--border2);
      background: var(--s2);
      border-radius: 6px;
      padding: 48px 24px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
      position: relative;
      overflow: hidden;
    }

    .upload-zone:hover,
    .upload-zone.drag-over {
      border-color: var(--amber);
      background: rgba(245, 166, 35, 0.05);
      box-shadow: 0 0 30px rgba(245, 166, 35, 0.05) inset;
    }

    .upload-zone input[type=file] {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
      width: 100%;
      height: 100%;
      z-index: 2;
    }

    .upload-icon {
      font-size: 32px;
      margin-bottom: 16px;
      display: inline-block;
      transition: transform 0.3s ease;
    }

    .upload-zone:hover .upload-icon {
      transform: translateY(-4px);
      color: var(--amber);
    }

    /* Inputs & Buttons */
    .input-field {
      background: var(--s3);
      border: 1px solid var(--border2);
      border-radius: 4px;
      color: var(--text);
      font-family: 'IBM Plex Mono', monospace;
      font-size: 13px;
      padding: 12px 16px;
      width: 100%;
      outline: none;
      transition: all 0.2s ease;
    }

    .input-field:focus {
      border-color: var(--amber);
      box-shadow: 0 0 0 3px rgba(245, 166, 35, 0.15);
    }

    .btn-primary {
      background: var(--amber);
      color: #000;
      font-family: 'IBM Plex Mono', monospace;
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      padding: 14px 32px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }

    .btn-primary:hover:not(:disabled) {
      background: #FFBE45;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(245, 166, 35, 0.3);
    }

    .btn-primary:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      filter: grayscale(1);
    }

    .btn-ghost {
      background: transparent;
      color: var(--muted2);
      font-family: 'IBM Plex Mono', monospace;
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      padding: 8px 16px;
      border: 1px solid var(--border2);
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-ghost:hover {
      border-color: var(--amber);
      color: var(--amber);
      background: rgba(245, 166, 35, 0.05);
    }

    /* Leaderboard */
    .card {
      background: var(--s2);
      border: 1px solid var(--border);
      border-radius: 6px;
      backdrop-filter: blur(10px);
    }

    .lb-header {
      display: grid;
      grid-template-columns: 50px 1.5fr 100px 140px 100px 1fr;
      gap: 16px;
      padding: 12px 20px;
      font-size: 10px;
      letter-spacing: 0.2em;
      color: var(--muted);
      text-transform: uppercase;
      border-bottom: 1px solid var(--border);
      background: rgba(0, 0, 0, 0.2);
    }

    .lb-row {
      display: grid;
      grid-template-columns: 50px 1.5fr 100px 140px 100px 1fr;
      gap: 16px;
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
      align-items: center;
      transition: all 0.2s ease;
      cursor: pointer;
      background: transparent;
    }

    .lb-row:hover {
      background: rgba(255, 255, 255, 0.03);
      transform: translateX(4px);
    }

    .lb-row.rank-1 {
      border-left: 3px solid #F5A623;
    }

    .lb-row.rank-2 {
      border-left: 3px solid #E5E7EB;
    }

    .lb-row.rank-3 {
      border-left: 3px solid #CD7F32;
    }

    .rank-badge {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 24px;
      line-height: 1;
    }

    .rank-1 .rank-badge {
      color: var(--amber);
      text-shadow: 0 0 15px rgba(245, 166, 35, 0.4);
    }

    .rank-2 .rank-badge {
      color: #E5E7EB;
    }

    .rank-3 .rank-badge {
      color: #CD7F32;
    }

    .rank-other .rank-badge {
      color: var(--muted);
      font-size: 18px;
    }

    /* Detail Panel */
    .panel-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      z-index: 190;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .panel-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

    .detail-panel {
      position: fixed;
      right: 0;
      top: 0;
      bottom: 0;
      width: 500px;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-left: 1px solid var(--border);
      z-index: 200;
      display: flex;
      flex-direction: column;
      transform: translateX(100%);
      transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: -20px 0 50px rgba(0, 0, 0, 0.5);
    }

    .detail-panel.open {
      transform: translateX(0);
    }

    .panel-header {
      padding: 24px 32px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      background: rgba(0, 0, 0, 0.2);
    }

    .stat-card {
      background: var(--s2);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 20px;
      flex: 1;
    }

    .stat-value {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 42px;
      line-height: 1;
      color: var(--text);
    }

    .conf-badge {
      display: inline-block;
      font-size: 9px;
      letter-spacing: 0.15em;
      padding: 3px 8px;
      border-radius: 3px;
      text-transform: uppercase;
      font-weight: 500;
    }

    .conf-strong {
      background: rgba(74, 222, 128, 0.1);
      border: 1px solid rgba(74, 222, 128, 0.2);
      color: var(--green);
    }

    .conf-medium {
      background: rgba(250, 204, 21, 0.1);
      border: 1px solid rgba(250, 204, 21, 0.2);
      color: var(--yellow);
    }

    .conf-weak {
      background: rgba(248, 113, 113, 0.1);
      border: 1px solid rgba(248, 113, 113, 0.2);
      color: var(--red);
    }

    .skill-tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--s3);
      border: 1px solid var(--border2);
      border-radius: 4px;
      font-size: 11px;
      padding: 6px 12px;
      color: var(--text);
    }

    .recruiter-note {
      background: linear-gradient(90deg, rgba(245, 166, 35, 0.05), transparent);
      border-left: 2px solid var(--amber);
      padding: 20px;
      font-family: 'IBM Plex Sans', sans-serif;
      font-size: 14px;
      line-height: 1.7;
      color: #D0C8B8;
      font-style: italic;
      border-radius: 0 4px 4px 0;
    }

    /* Animations */
    @keyframes breathe {
      0% {
        opacity: 0.5;
        transform: scale(1);
      }

      100% {
        opacity: 1;
        transform: scale(1.05);
      }
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
        transform: scale(1);
      }

      50% {
        opacity: 0.4;
        transform: scale(0.8);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(15px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-in {
      animation: fadeIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
      opacity: 0;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--ink);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border2);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--muted);
    }
  </style>
</head>

<body>

  <div class="bg-grid"></div>
  <div class="bg-glow"></div>

  <aside class="sidebar">
    <div class="logo-block">
      <div class="logo-text">SMART<span style="color:var(--amber)">HIRE</span></div>
      <div class="logo-sub">HR Intelligence ¬∑ v1.0</div>
    </div>

    <div style="flex:1;overflow-y:auto;padding-top:16px;">
      <div class="nav-section">HR Workflow</div>
      <div class="nav-item active" onclick="showView('upload')">
        <span style="font-size:14px;">‚¨Ü</span> Upload Resumes
      </div>
      <div class="nav-item" id="nav-results" onclick="showView('results')" style="display:none;">
        <span style="font-size:14px;">‚ñ¶</span> Leaderboard
      </div>

      <div class="nav-section" style="margin-top:24px;">System</div>
      <a href="/" style="text-decoration:none;">
        <div class="nav-item"><span style="font-size:14px;">‚Üê</span> Return Home</div>
      </a>
    </div>

    <div class="sidebar-footer">
      <div style="font-size:10px;letter-spacing:0.15em;color:var(--muted);text-transform:uppercase;line-height:1.8;">
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px; color:var(--text);">
        </div>
      </div>
    </div>
  </aside>

  <div class="main-area">
    <div class="topbar">
      <div style="font-size:12px;letter-spacing:0.15em;color:var(--text);text-transform:uppercase; font-weight:500;"
        id="topbar-title">
        Dashboard <span style="color:var(--muted)">/</span> Upload
      </div>
      <div style="display:flex;align-items:center;gap:20px;">
        <span
          style="font-size:11px;letter-spacing:0.15em;color:var(--amber);text-transform:uppercase; background:var(--amber-lo); padding:4px 12px; border-radius:20px;"
          id="topbar-status">Awaiting Input</span>
      </div>
    </div>

    <div class="content">
      <div id="view-upload" class="animate-in">
        <div style="margin-bottom:48px;">
          <p
            style="font-size:11px;letter-spacing:0.3em;color:var(--amber);text-transform:uppercase;margin-bottom:12px;">
            Step 01 // Configuration</p>
          <h2
            style="font-family:'Bebas Neue',sans-serif;font-size:56px;letter-spacing:0.04em;line-height:0.9;color:#FFF; text-shadow: 0 0 30px rgba(255,255,255,0.1);">
            BATCH RESUME<br>ANALYSIS</h2>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:40px;max-width:1000px;">
          <div>
            <div class="section-label">Target Documents</div>
            <div class="upload-zone" id="dropzone">
              <input type="file" id="fileInput" multiple accept=".pdf" onchange="handleFiles(this.files)" />
              <span class="upload-icon">üìÑ</span>
              <p style="font-size:14px;color:var(--text);margin-bottom:8px; font-weight:500;">Drop PDFs here or click to
                browse</p>
              <p style="font-size:11px;color:var(--muted);letter-spacing:0.05em;">Multiple files supported ¬∑ Max 32MB
                total</p>
            </div>
            <div id="file-list" style="margin-top:20px;display:flex;flex-direction:column;gap:10px;"></div>
          </div>

          <div style="display:flex;flex-direction:column;gap:32px;">
            <div>
              <div class="section-label">Analysis Context</div>
              <input class="input-field" type="text" id="domainInput" placeholder="e.g. Machine Learning Engineer"
                value="Software Engineering" />
              <p style="font-size:11px;color:var(--muted);margin-top:10px;line-height:1.6;">
                Defines the lens through which AI evaluates candidate skills and generates recruiter notes.
              </p>
            </div>

            <div>
              <div class="section-label">Quick Select Profiles</div>
              <div style="display:flex;flex-wrap:wrap;gap:10px;">
                <button class="btn-ghost" onclick="setDomain('Software Engineering')">SWE</button>
                <button class="btn-ghost" onclick="setDomain('Machine Learning Engineer')">ML / AI</button>
                <button class="btn-ghost" onclick="setDomain('Data Engineer')">Data Eng</button>
                <button class="btn-ghost" onclick="setDomain('DevOps / Cloud Engineer')">DevOps</button>
                <button class="btn-ghost" onclick="setDomain('Full Stack Developer')">Full Stack</button>
              </div>
            </div>

            <div style="margin-top:auto;padding-top:24px;border-top:1px solid var(--border);">
              <button class="btn-primary" id="analyzeBtn" onclick="runAnalysis()" disabled>
                <span>‚ñ∂</span> INITIALIZE ANALYSIS
              </button>
            </div>
          </div>
        </div>
      </div>

      <div id="view-results" style="display:none;">
        <div style="margin-bottom:40px;">
          <p style="font-size:11px;letter-spacing:0.3em;color:var(--amber);text-transform:uppercase;margin-bottom:12px;"
            id="results-domain-tag">Step 02 // Results</p>
          <div
            style="display:flex;align-items:baseline;justify-content:space-between;flex-wrap:wrap;margin-bottom:32px;">
            <h2
              style="font-family:'Bebas Neue',sans-serif;font-size:56px;letter-spacing:0.04em;color:#FFF; text-shadow: 0 0 30px rgba(255,255,255,0.1);"
              id="results-title">LEADERBOARD</h2>
            <button class="btn-ghost" onclick="showView('upload')">‚Üê New Analysis</button>
          </div>
          <div style="display:flex;gap:20px;" id="summary-stats"></div>
        </div>
        <div class="card" style="padding:0;overflow:hidden;margin-bottom:32px;">
          <div class="lb-header">
            <span>Rank</span><span>Candidate</span><span>Match</span><span>Skills</span><span>Confidence</span><span>Quick
              Note</span>
          </div>
          <div id="lb-body"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="panel-overlay" id="panel-overlay" onclick="closePanel()"></div>
  <div class="detail-panel" id="detail-panel">
    <div class="panel-header">
      <div>
        <p style="font-size:10px;letter-spacing:0.25em;color:var(--amber);text-transform:uppercase;margin-bottom:8px;">
          Candidate Profile</p>
        <h3 style="font-family:'Bebas Neue',sans-serif;font-size:36px;letter-spacing:0.04em; color:#FFF;"
          id="panel-name">‚Äî</h3>
      </div>
      <span style="font-size:24px;color:var(--muted);cursor:pointer;transition:color 0.2s;"
        onclick="closePanel()">‚úï</span>
    </div>
    <div style="padding:32px;flex:1;overflow-y:auto;" id="panel-content">
    </div>
  </div>

  <script>
    let uploadedFiles = [];
    let leaderboardData = [];

    const dz = document.getElementById('dropzone');
    dz.addEventListener('dragover', e => { e.preventDefault(); dz.classList.add('drag-over'); });
    dz.addEventListener('dragleave', () => dz.classList.remove('drag-over'));
    dz.addEventListener('drop', e => { e.preventDefault(); dz.classList.remove('drag-over'); handleFiles(e.dataTransfer.files); });

    function handleFiles(files) {
      Array.from(files).forEach(f => {
        if (f.type === 'application/pdf' && !uploadedFiles.find(x => x.name === f.name)) uploadedFiles.push(f);
      });
      renderFileList();
      document.getElementById('analyzeBtn').disabled = uploadedFiles.length === 0;
    }

    function renderFileList() {
      const el = document.getElementById('file-list');
      el.innerHTML = uploadedFiles.map((f, i) => `
      <div style="display:flex;align-items:center;gap:12px;background:var(--s3);border:1px solid var(--border2);border-radius:4px;padding:10px 16px;font-size:12px;color:var(--text);" class="animate-in">
        <span style="color:var(--amber)">üìÑ</span>
        <span style="flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">${f.name}</span>
        <span style="color:var(--muted);font-size:11px;">${(f.size / 1024).toFixed(0)}KB</span>
        <span style="color:var(--muted);cursor:pointer;" onclick="removeFile(${i})">‚úï</span>
      </div>
    `).join('');
    }

    function removeFile(idx) {
      uploadedFiles.splice(idx, 1);
      renderFileList();
      document.getElementById('analyzeBtn').disabled = uploadedFiles.length === 0;
    }

    function setDomain(d) { document.getElementById('domainInput').value = d; }

    // Rest of your JS logic for `runAnalysis`, `renderLeaderboard`, and `openPanel` remains exactly the same!
    function showView(name) {
      document.getElementById('view-upload').style.display = name === 'upload' ? 'block' : 'none';
      document.getElementById('view-results').style.display = name === 'results' ? 'block' : 'none';
      if (name === 'results') document.getElementById('nav-results').style.display = 'flex';
    }
    function closePanel() {
      document.getElementById('detail-panel').classList.remove('open');
      document.getElementById('panel-overlay').classList.remove('open');
    }
  </script>
</body>

</html>
